trigger:
  branches:
    include:
      - main

# ðŸ‘‡ Your self-hosted agent pool
pool:
  name: 'Croem Build Servers'

steps:

# ========================
# ðŸŸ¦ Install Node 20 (REQUIRED for Cypress 15)
# ========================
- task: NodeTool@0
  inputs:
    versionSpec: '20.x'
  displayName: "Install Node.js 20.x"

# ========================
# ðŸ“¦ Install Dependencies
# ========================
- script: |
    npm ci
  displayName: "Install NPM Dependencies"

# ========================
# ðŸ§ª Run Cypress Tests
# ========================
- script: |
    npx cypress run
  displayName: "Run Cypress Tests"